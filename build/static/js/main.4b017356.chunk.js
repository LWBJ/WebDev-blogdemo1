(this["webpackJsonpblogdemo1-react"]=this["webpackJsonpblogdemo1-react"]||[]).push([[0],{18:function(e,a,t){e.exports=t(28)},23:function(e,a,t){},28:function(e,a,t){"use strict";t.r(a);var r=t(0),l=t.n(r),n=t(15),c=t.n(n),s=(t(23),t(5)),o=t(6),m=t(8),i=t(7);var d=function(e){var a=e.item;return l.a.createElement("div",{className:"col-12 col-md-6 col-lg-4 col-xl-3"},l.a.createElement("div",{className:"border rounded border-secondary p-4 my-2 col-12 h-100"},l.a.createElement("p",null,"Face: ",a.name),l.a.createElement("p",null,"Race: ",a.race_text),l.a.createElement("p",null,"Place: ",a.place_text),l.a.createElement("p",null,"Familiar: ",a.familiar?"Yes":"No"),l.a.createElement("p",null,"Worn out: ",a.worn_out?"Yes":"No")))};var u=function(e){var a=0,t=[];if("number"===typeof e.count&&e.count>0){a=Math.ceil(e.count/e.pagination);for(var r=0;r<a;r++)t.push(l.a.createElement("option",null,r+1))}var n=e.current>1?l.a.createElement("button",{className:"btn btn-secondary mr-1",onClick:function(){return e.changePage(e.current-1)}},"Back"):l.a.createElement("button",{className:"btn btn-secondary mr-1",disabled:!0},"Back"),c=e.current<a?l.a.createElement("button",{className:"btn btn-secondary mr-1",onClick:function(){return e.changePage(e.current+1)}},"Next"):l.a.createElement("button",{className:"btn btn-secondary mr-1",disabled:!0},"Next");return l.a.createElement("div",{className:"row"},l.a.createElement("label",{className:"col-auto col-form-label",for:e.id+"PageNo"},"Page"),l.a.createElement("div",{className:"col-auto"},l.a.createElement("select",{id:e.id+"PageNo",className:"form-control",value:e.current,onChange:function(a){return e.changePage(a.target.value)}},t)),n,c)},f=t(1);var E=function(e){var a=function(){return e.onSubmit({name:"",race:"",place:"",familiar:"",worn_out:"",order:"Name",asc:"Ascending"})};return l.a.createElement(f.d,{initialValues:{name:"",race:"",place:"",familiar:"",worn_out:"",order:"Name",asc:"Ascending"},onSubmit:function(a,t){var r=t.setSubmitting;e.onSubmit(a),r(!1)}},(function(e){return l.a.createElement("div",{className:"row border rounded border-primary p-4 mt-4"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("h3",null,"Filters"))),l.a.createElement(f.c,{className:"form"},l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-12 col-md-4"},l.a.createElement("label",{htmlFor:"faceFilter-name"},"Name: "),l.a.createElement(f.b,{id:"faceFilter-name",name:"name",type:"text",className:"form-control"})),l.a.createElement("div",{className:"form-group col-12 col-md-4"},l.a.createElement("label",{htmlFor:"faceFilter-race"},"Race: "),l.a.createElement(f.b,{id:"faceFilter-race",name:"race",type:"text",className:"form-control"})),l.a.createElement("div",{className:"form-group col-12 col-md-4"},l.a.createElement("label",{htmlFor:"faceFilter-place"},"Place: "),l.a.createElement(f.b,{id:"faceFilter-place",name:"place",type:"text",className:"form-control"}))),l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"col-12 col-md-4"},l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-6"},l.a.createElement("label",{htmlFor:"faceFilter-familiar"},"Familiar: "),l.a.createElement(f.b,{id:"faceFilter-familiar",name:"familiar",as:"select",className:"form-control"},l.a.createElement("option",null,"T"),l.a.createElement("option",null,"F"),l.a.createElement("option",null))),l.a.createElement("div",{className:"form-group col-6"},l.a.createElement("label",{htmlFor:"faceFilter-worn_out"},"Worn Out: "),l.a.createElement(f.b,{id:"faceFilter-worn_out",name:"worn_out",as:"select",className:"form-control"},l.a.createElement("option",null,"T"),l.a.createElement("option",null,"F"),l.a.createElement("option",null))))),l.a.createElement("div",{className:"col-12 col-md-8"},l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-6"},l.a.createElement("label",{htmlFor:"faceFilter-order"},"Order: "),l.a.createElement(f.b,{id:"faceFilter-order",name:"order",as:"select",className:"form-control"},l.a.createElement("option",null,"Name"),l.a.createElement("option",null,"Race"),l.a.createElement("option",null,"Place"))),l.a.createElement("div",{className:"form-group col-6"},l.a.createElement("label",{htmlFor:"faceFilter-asc"},"Ascending or Descending: "),l.a.createElement(f.b,{id:"faceFilter-asc",name:"asc",as:"select",className:"form-control"},l.a.createElement("option",null,"Ascending"),l.a.createElement("option",null,"Descending")))))),l.a.createElement("div",{className:"form-row"},l.a.createElement("button",{type:"submit",className:"btn btn-primary mr-1",disabled:e.isSubmitting},"Filter"),l.a.createElement("button",{type:"reset",className:"btn btn-danger",onClick:a,disabled:!e.dirty||e.isSubmitting},"Reset")))))}))},p=function(e){Object(m.a)(t,e);var a=Object(i.a)(t);function t(e){var r;return Object(s.a)(this,t),(r=a.call(this,e)).state={loading:!0,data:[],page:1,filters:{name:"",race:"",place:"",familiar:"",worn_out:"",order:"name",asc:!0}},r}return Object(o.a)(t,[{key:"refreshData",value:function(){var e=this,a="https://lwbjdemoblog1.herokuapp.com/apidata/faces/?page="+this.state.page+"&";a+="name="+this.state.filters.name+"&",a+="race="+this.state.filters.race+"&",a+="place="+this.state.filters.place+"&",a+="familiar="+this.state.filters.familiar+"&",a+="worn_out="+this.state.filters.worn_out+"&",a+="order="+(this.state.filters.asc?"":"-")+this.state.filters.order+"&",fetch(a).then((function(e){return e.json()})).then((function(a){e.setState({data:a,loading:!1})})).catch((function(a){e.setState({data:[],loading:!1})}))}},{key:"componentDidMount",value:function(){this.refreshData()}},{key:"changePage",value:function(e){this.setState({page:parseInt(e),loading:!0},this.refreshData)}},{key:"changeFilter",value:function(e){this.setState({loading:!0,filters:{name:e.name,race:e.race,place:e.place,familiar:e.familiar,worn_out:e.worn_out,order:e.order.toLowerCase(),asc:"Ascending"===e.asc},page:1},this.refreshData)}},{key:"render",value:function(){var e,a,t=this;this.state.loading?(a=l.a.createElement("div",{className:"col-12"},l.a.createElement("p",null,"loading")),e="loading"):this.state.data.results&&this.state.data.results.length>0?(a=this.state.data.results.map((function(e){return l.a.createElement(d,{item:e})})),e=this.state.data.count):(a=l.a.createElement("div",{className:"col-12"},l.a.createElement("p",null,"No data")),e=0);return l.a.createElement("div",null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("h2",{className:"mt-4"},"Faces"))),l.a.createElement(E,{onSubmit:function(e){return t.changeFilter(e)}}),l.a.createElement("div",{className:"row border rounded border-primary p-4 mt-4"},l.a.createElement("div",{className:"col"},l.a.createElement(u,{count:e,pagination:100,id:"faces",current:this.state.page,changePage:function(e){return t.changePage(e)}}),l.a.createElement("div",{className:"row mt-4"},l.a.createElement("div",{className:"col-12"},l.a.createElement("p",null,"Total Results: ",e))),l.a.createElement("div",{className:"row mb-4"},a),l.a.createElement(u,{count:e,pagination:100,id:"faces-low",current:this.state.page,changePage:function(e){return t.changePage(e)}}))))}}]),t}(l.a.Component);var b=function(e){var a=e.item;return l.a.createElement("div",{className:"col-12 col-md-6 col-lg-4 col-xl-3"},l.a.createElement("div",{className:"border rounded border-secondary p-4 my-2 col-12 h-100"},l.a.createElement("p",null,"Name: ",a.name),l.a.createElement("p",null,"Faces: ",a.face_set_list.join(", ")),l.a.createElement("p",null,"Place: ",a.place_text),l.a.createElement("p",null,"Date: ",a.date)))},h=function(e){var a={};return e.before&&e.after&&e.before<e.after&&(a.before='This value cannot be before the date in the "after" filter',a.after='This value cannot be after the date in the "before" filter'),a};var g=function(e){var a=function(){e.onSubmit({name:"",face:"",place:"",before:"",after:"",order:"Name",asc:"Ascending"})};return l.a.createElement(f.d,{onSubmit:function(a,t){var r=t.setSubmitting;e.onSubmit(a),r(!1)},initialValues:{name:"",face:"",place:"",before:"",after:"",order:"Name",asc:"Ascending"},validate:h},(function(e){return l.a.createElement("div",{className:"row border rounded border-primary p-4 mt-4"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("h3",null,"Filters"))),l.a.createElement(f.c,{className:"form"},l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-12 col-md-4"},l.a.createElement("label",{htmlFor:"raceFilter-name"},"Name: "),l.a.createElement(f.b,{id:"raceFilter-name",name:"name",type:"text",className:"form-control"})),l.a.createElement("div",{className:"form-group col-12 col-md-4"},l.a.createElement("label",{htmlFor:"raceFilter-face"},"Face: "),l.a.createElement(f.b,{id:"raceFilter-face",name:"face",type:"text",className:"form-control"})),l.a.createElement("div",{className:"form-group col-12 col-md-4"},l.a.createElement("label",{htmlFor:"raceFilter-place"},"Place: "),l.a.createElement(f.b,{id:"raceFilter-place",name:"place",type:"text",className:"form-control"}))),l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"col-12 col-lg-4"},l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-6"},l.a.createElement("label",{htmlFor:"raceFilter-before"},"Before: "),l.a.createElement(f.b,{id:"raceFilter-before",name:"before",type:"date",className:"form-control"}),l.a.createElement("span",{className:"text-danger"},l.a.createElement(f.a,{name:"before",className:"text-danger"}))),l.a.createElement("div",{className:"form-group col-6"},l.a.createElement("label",{htmlFor:"raceFilter-after"},"After: "),l.a.createElement(f.b,{id:"raceFilter-after",name:"after",type:"date",className:"form-control"}),l.a.createElement("span",{className:"text-danger"},l.a.createElement(f.a,{name:"after",className:"text-danger"}))))),l.a.createElement("div",{className:"col-12 col-lg-8"},l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-12 col-md-6"},l.a.createElement("label",{htmlFor:"raceFilter-order"},"Order: "),l.a.createElement(f.b,{id:"raceFilter-order",name:"order",as:"select",className:"form-control"},l.a.createElement("option",null,"Name"),l.a.createElement("option",null,"Place"),l.a.createElement("option",null,"Date"))),l.a.createElement("div",{className:"form-group col-12 col-md-6"},l.a.createElement("label",{htmlFor:"raceFilter-asc"},"Ascending or Descending: "),l.a.createElement(f.b,{id:"raceFilter-asc",name:"asc",as:"select",className:"form-control"},l.a.createElement("option",null,"Ascending"),l.a.createElement("option",null,"Descending")))))),l.a.createElement("div",{className:"form-row"},l.a.createElement("button",{type:"submit",className:"btn btn-primary mr-1",disabled:e.isSubmitting},"Filter"),l.a.createElement("button",{type:"reset",className:"btn btn-danger",onClick:a,disabled:!e.dirty||e.isSubmitting},"Reset")))))}))},v=function(e){Object(m.a)(t,e);var a=Object(i.a)(t);function t(e){var r;return Object(s.a)(this,t),(r=a.call(this,e)).state={loading:!0,data:[],page:1,filters:{name:"",face:"",place:"",before:"",after:"",order:"name",asc:!0}},r}return Object(o.a)(t,[{key:"changePage",value:function(e){this.setState({loading:!0,page:parseInt(e)},this.refreshData)}},{key:"changeFilter",value:function(e){this.setState({loading:!0,page:1,filters:{name:e.name,face:e.face,place:e.place,before:e.before,after:e.after,order:e.order.toLowerCase(),asc:"Ascending"===e.asc}},this.refreshData)}},{key:"refreshData",value:function(){var e=this,a="https://lwbjdemoblog1.herokuapp.com/apidata/races/?page="+this.state.page+"&";a+="name="+this.state.filters.name+"&",a+="face="+this.state.filters.face+"&",a+="place="+this.state.filters.place+"&",a+="before="+this.state.filters.before+"&",a+="after="+this.state.filters.after+"&",a+="order="+(this.state.filters.asc?"":"-")+this.state.filters.order,fetch(a).then((function(e){return e.json()})).then((function(a){return e.setState({data:a,loading:!1})})).catch((function(a){return e.setState({data:[],loading:!1})}))}},{key:"componentDidMount",value:function(){this.refreshData()}},{key:"render",value:function(){var e,a,t=this;if(this.state.loading)e="loading",a=l.a.createElement("div",{className:"col-12"},l.a.createElement("p",null,"loading"));else if(this.state.data.results&&this.state.data.results.length>0){e=this.state.data.count,a=[];for(var r=0;r<this.state.data.results.length;r++)a.push(l.a.createElement(b,{item:this.state.data.results[r]}))}else e=0,a=l.a.createElement("div",{className:"col-12"},l.a.createElement("p",null,"No data"));return l.a.createElement("div",null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("h2",{className:"mt-4"},"Races"))),l.a.createElement(g,{onSubmit:function(e){return t.changeFilter(e)}}),l.a.createElement("div",{className:"row border rounded border-primary p-4 mt-4"},l.a.createElement("div",{className:"col-12"},l.a.createElement(u,{count:e,id:"races",pagination:100,current:this.state.page,changePage:function(e){return t.changePage(e)}}),l.a.createElement("div",{className:"row mt-4"},l.a.createElement("div",{className:"col-12"},l.a.createElement("p",null,"Total Results: ",e))),l.a.createElement("div",{className:"row mb-4"},a),l.a.createElement(u,{count:e,id:"racesBottom",pagination:100,current:this.state.page,changePage:function(e){return t.changePage(e)}}))))}}]),t}(l.a.Component);var N=function(e){var a=function(){e.onSubmit({name:"",race:"",face:"",worn_out:"",asc:"Ascending"})};return l.a.createElement(f.d,{initialValues:{name:"",race:"",face:"",worn_out:"",asc:"Ascending"},onSubmit:function(a,t){var r=t.setSubmitting;e.onSubmit(a),r(!1)}},(function(e){return l.a.createElement("div",{className:"row border rounded border-primary p-4 mt-4"},l.a.createElement("div",{className:"col"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("h3",null,"Filters"))),l.a.createElement(f.c,{className:"form"},l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-12 col-md-6"},l.a.createElement("label",{htmlFor:"placeFilter-name"},"Name: "),l.a.createElement(f.b,{id:"placeFilter-name",name:"name",type:"text",className:"form-control"})),l.a.createElement("div",{className:"form-group col-12 col-md-6"},l.a.createElement("label",{htmlFor:"placeFilter-race"},"Race: "),l.a.createElement(f.b,{id:"placeFilter-race",name:"race",type:"text",className:"form-control"})),l.a.createElement("div",{className:"form-group col-12 col-md-6"},l.a.createElement("label",{htmlFor:"placeFilter-face"},"Face: "),l.a.createElement(f.b,{id:"placeFilter-face",name:"face",type:"text",className:"form-control"})),l.a.createElement("div",{className:"form-group col-6 col-md-3"},l.a.createElement("label",{htmlFor:"placeFilter-worn_out"},"Worn Out: "),l.a.createElement(f.b,{id:"placeFilter-worn_out",name:"worn_out",as:"select",className:"form-control"},l.a.createElement("option",null,"T"),l.a.createElement("option",null,"F"),l.a.createElement("option",null))),l.a.createElement("div",{className:"form-group col-6 col-md-3"},l.a.createElement("label",{htmlFor:"placeFilter-asc"},"Order: "),l.a.createElement(f.b,{id:"placeFilter-asc",name:"asc",as:"select",className:"form-control"},l.a.createElement("option",null,"Ascending"),l.a.createElement("option",null,"Descending")))),l.a.createElement("div",{className:"form-row"},l.a.createElement("button",{type:"submit",className:"btn btn-primary mr-1",disabled:e.isSubmitting},"Filter"),l.a.createElement("button",{type:"reset",className:"btn btn-danger",onClick:a,disabled:!e.dirty||e.isSubmitting},"Reset")))))}))};var F=function(e){var a=e.item;return l.a.createElement("div",{className:"col-12 col-md-6 col-lg-4 col-xl-3"},l.a.createElement("div",{className:"border rounded border-secondary p-4 my-2 col-12 h-100"},l.a.createElement("p",null,"Place: ",a.name),l.a.createElement("p",null,"Races: ",a.race_set_list.join(", ")),l.a.createElement("p",null,"Faces: ",a.face_set_list.join(", ")),l.a.createElement("p",null,"Worn out: ",a.worn_out?"Yes":"No")))},w=function(e){Object(m.a)(t,e);var a=Object(i.a)(t);function t(e){var r;return Object(s.a)(this,t),(r=a.call(this,e)).state={loading:!0,data:[],page:1,filters:{name:"",race:"",face:"",worn_out:"",order:"name",asc:!0}},r}return Object(o.a)(t,[{key:"changeFilter",value:function(e){this.setState({loading:!0,page:1,filters:{name:e.name,race:e.race,face:e.face,worn_out:e.worn_out,order:"name",asc:"Ascending"===e.asc}},this.refreshData)}},{key:"changePage",value:function(e){this.setState({loading:!0,page:parseInt(e)},this.refreshData)}},{key:"refreshData",value:function(){var e=this,a="https://lwbjdemoblog1.herokuapp.com/apidata/places/?page="+this.state.page+"&";a+="name="+this.state.filters.name+"&",a+="race="+this.state.filters.race+"&",a+="face="+this.state.filters.face+"&",a+="worn_out="+this.state.filters.worn_out+"&",a+="order="+(this.state.filters.asc?"":"-")+this.state.filters.order+"&",fetch(a).then((function(e){return e.json()})).then((function(a){e.setState({data:a,loading:!1})})).catch((function(a){e.setState({data:[],loading:!1})}))}},{key:"componentDidMount",value:function(){this.refreshData()}},{key:"render",value:function(){var e,a,t=this;if(this.state.loading)e=l.a.createElement("div",{className:"col-12"},l.a.createElement("p",null,"loading")),a="loading";else if(this.state.data.results&&this.state.data.results.length>0){e=[];for(var r=0;r<this.state.data.results.length;r++)e.push(l.a.createElement(F,{item:this.state.data.results[r]}));a=this.state.data.count}else e=l.a.createElement("div",{className:"col-12"},l.a.createElement("p",null,"No Data")),a=0;return l.a.createElement("div",null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("h2",{className:"mt-4"},"Places"))),l.a.createElement(N,{onSubmit:function(e){return t.changeFilter(e)}}),l.a.createElement("div",{className:"row border rounded border-primary p-4 mt-4"},l.a.createElement("div",{className:"col"},l.a.createElement(u,{count:a,pagination:100,id:"places",current:this.state.page,changePage:function(e){return t.changePage(e)}}),l.a.createElement("div",{className:"row mt-4"},l.a.createElement("div",{className:"col-12"},l.a.createElement("p",null,"Total Results: ",a))),l.a.createElement("div",{className:"row mb-4"},e),l.a.createElement(u,{count:a,pagination:100,id:"placesBottom",current:this.state.page,changePage:function(e){return t.changePage(e)}}))))}}]),t}(l.a.Component);var y=function(){return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row py-4 mt-4"},l.a.createElement("div",{className:"col-12"},l.a.createElement("h1",null,"LWBJ Blog Demo 1"),l.a.createElement("p",{className:"mt-4"},"A simple blog with Django backend and React frontend. Additional styles added with Bootstrap. The backend stores data on 3 different types of data, 'Faces', 'Races' and 'Places'. Data is added from the admin page of the backend. The backend also has support for pagination, ordering and filtering. The front end queries the backend and displays the results. The filter form and paginator buttons modifies the queries to return only specific results."))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("ul",{className:"nav nav-tabs",id:"myTab",role:"tablist"},l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link active",id:"faces-tab","data-toggle":"tab",href:"#faces",role:"tab","aria-controls":"faces","aria-selected":"true"},"Faces")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",id:"races-tab","data-toggle":"tab",href:"#races",role:"tab","aria-controls":"races","aria-selected":"false"},"Races")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",id:"places-tab","data-toggle":"tab",href:"#places",role:"tab","aria-controls":"places","aria-selected":"false"},"Places"))),l.a.createElement("div",{className:"tab-content",id:"myTabContent"},l.a.createElement("div",{className:"tab-pane fade show active",id:"faces",role:"tabpanel","aria-labelledby":"faces-tab"},l.a.createElement(p,null)),l.a.createElement("div",{className:"tab-pane fade",id:"races",role:"tabpanel","aria-labelledby":"races-tab"},l.a.createElement(v,null)),l.a.createElement("div",{className:"tab-pane fade",id:"places",role:"tabpanel","aria-labelledby":"places-tab"},l.a.createElement(w,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.4b017356.chunk.js.map